{"version":3,"file":"static/js/136.ba0daae4.chunk.js","mappings":"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","sources":["component/Dashboard/Header.jsx"],"sourcesContent":["import {\n  createStyles,\n  Avatar,\n  Menu,\n  ActionIcon,\n  Header,\n  Container,\n  Group,\n  UnstyledButton,\n  Burger,\n  Text,\n  TextInput,\n  Anchor,\n  Kbd,\n  Autocomplete,\n} from \"@mantine/core\";\nimport { useDisclosure, useHotkeys, useFocusTrap } from \"@mantine/hooks\";\nimport { useNavigate } from \"react-router-dom\";\nimport {\n  IconArrowRight,\n  IconSearch,\n  IconSettings,\n  IconCheck,\n  IconX,\n  IconLogout,\n} from \"@tabler/icons-react\";\nimport axios from \"../../axiosConfig\";\nimport { showNotification } from \"@mantine/notifications\";\nimport { redirect } from \"react-router-dom\";\nimport secureLocalStorage from \"react-secure-storage\";\nimport data from \"./Navigation.json\";\nimport { useRef } from \"react\";\nconst HEADER_HEIGHT = 60;\n\nconst useStyles = createStyles((theme) => ({\n  inner: {\n    height: HEADER_HEIGHT,\n    display: \"flex\",\n    justifyContent: \"space-between\",\n    alignItems: \"center\",\n  },\n\n  links: {\n    [theme.fn.smallerThan(\"sm\")]: {\n      display: \"none\",\n    },\n  },\n\n  burger: {\n    [theme.fn.largerThan(\"sm\")]: {\n      display: \"none\",\n    },\n  },\n\n  link: {\n    display: \"block\",\n    lineHeight: 1,\n    padding: \"8px 12px\",\n    borderRadius: theme.radius.sm,\n    textDecoration: \"none\",\n    color:\n      theme.colorScheme === \"dark\"\n        ? theme.colors.dark[0]\n        : theme.colors.gray[7],\n    fontSize: theme.fontSizes.sm,\n    fontWeight: 500,\n\n    \"&:hover\": {\n      backgroundColor:\n        theme.colorScheme === \"dark\"\n          ? theme.colors.dark[6]\n          : theme.colors.gray[0],\n    },\n  },\n\n  linkLabel: {\n    marginRight: 5,\n  },\n}));\n\nexport default function HeaderAction({ links }) {\n  const { classes } = useStyles();\n  const [opened, { toggle }] = useDisclosure(false);\n  const navigate = useNavigate();\n  let user = JSON.parse(secureLocalStorage.getItem(\"user\"));\n  console.log(user);\n  const logout = () => {\n    axios\n      .post(\"/users/logout\", null)\n      .then((res) => {\n        navigate(\"/\");\n        secureLocalStorage.removeItem(\"user\");\n        user = undefined;\n        showNotification({\n          title: \"Logged off successfully\",\n          message: \"Bye bye!\",\n          icon: <IconCheck />,\n          color: \"teal\",\n          autoClose: 4000,\n          radius: \"xl\",\n        });\n      })\n      .catch((err) => {\n        showNotification({\n          title: \"Something went wrong\",\n          message: \"contact support, and promptly change your password\",\n          icon: <IconX />,\n          color: \"red\",\n          autoClose: 4000,\n          radius: \"xl\",\n        });\n      });\n  };\n  const focusSearch = useRef(null);\n  useHotkeys([\n    [\n      \"ctrl+k\",\n      () => {\n        console.log(\"focus search\");\n        focusSearch.current.focus();\n      },\n    ],\n  ]);\n\n  return (\n    <Header height={HEADER_HEIGHT} mb={20}>\n      <Container className={classes.inner} fluid>\n        <Group>\n          <Burger\n            opened={opened}\n            onClick={toggle}\n            className={classes.burger}\n            size=\"sm\"\n          />\n          <Anchor href=\"/dashboard\" underline={false}>\n            <Text fz=\"xl\" fw={700}>\n              DDMS\n            </Text>\n          </Anchor>\n        </Group>\n        {user && (\n          <Group spacing={5} className={classes.links}>\n            <Autocomplete\n              ref={focusSearch}\n              data={data}\n              placeholder=\"Search the entire application\"\n              radius=\"xl\"\n              size=\"md\"\n              icon={<IconSearch size={18} stroke={1.5} />}\n              filter={(value, item) =>\n                item.value.toLowerCase().includes(value.toLowerCase().trim()) ||\n                item.description\n                  .toLowerCase()\n                  .includes(value.toLowerCase().trim())\n              }\n              onItemSubmit={(item) => {\n                navigate(item.link);\n              }}\n              limit={5}\n              rightSectionWidth={90}\n              rightSection={\n                <>\n                  <Kbd>Ctrl</Kbd>\n                  <span>+</span>\n                  <Kbd>K</Kbd>\n                  {/* <ActionIcon\n                    size={32}\n                    radius=\"xl\"\n                    color=\"blue\"\n                    variant=\"filled\"\n                  >\n                    <IconArrowRight size={18} stroke={1.5} />{\" \"}\n                  </ActionIcon> */}\n                </>\n              }\n            />\n          </Group>\n        )}\n        {user && (\n          <Group spacing={4}>\n            <Menu\n              shadow=\"md\"\n              width={200}\n              trigger=\"hover\"\n              openDelay={100}\n              closeDelay={400}\n            >\n              <Menu.Target>\n                <UnstyledButton>\n                  <Group>\n                    <Avatar\n                      size={40}\n                      color={user.role === \"admin\" ? \"red\" : \"yellow\"}\n                    >\n                      {user.fullname.split(\" \").length >= 2\n                        ? user.fullname.split(\" \")[0][0].toUpperCase() +\n                          user.fullname.split(\" \")[1][0].toUpperCase()\n                        : user.fullname.split(\" \")[0][0].toUpperCase() +\n                          user.fullname.split(\" \")[0][1].toUpperCase()}\n                    </Avatar>\n                    <div>\n                      <Text>{user.fullname}</Text>\n                      <Text size=\"xs\" color=\"dimmed\">\n                        {user.role.charAt(0).toUpperCase() + user.role.slice(1)}\n                      </Text>\n                    </div>\n                  </Group>\n                </UnstyledButton>\n              </Menu.Target>\n\n              <Menu.Dropdown>\n                <Menu.Label>Department data management system</Menu.Label>\n                <Anchor href=\"/my-account\" underline={false}>\n                  <Menu.Item icon={<IconSettings size={14} />}>\n                    Settings\n                  </Menu.Item>\n                </Anchor>\n\n                <Menu.Item\n                  color=\"red\"\n                  icon={<IconLogout size={14} />}\n                  onClick={logout}\n                >\n                  Logout\n                </Menu.Item>\n              </Menu.Dropdown>\n            </Menu>\n          </Group>\n        )}\n      </Container>\n    </Header>\n  );\n}\n"],"names":["useStyles","createStyles","theme","inner","height","display","justifyContent","alignItems","links","fn","smallerThan","burger","largerThan","link","lineHeight","padding","borderRadius","radius","sm","textDecoration","color","colorScheme","colors","dark","gray","fontSize","fontSizes","fontWeight","backgroundColor","linkLabel","marginRight","HeaderAction","classes","useDisclosure","opened","toggle","navigate","useNavigate","user","JSON","parse","secureLocalStorage","console","log","focusSearch","useRef","useHotkeys","current","focus","Header","mb","Container","className","fluid","Group","Burger","onClick","size","Anchor","href","underline","Text","fz","fw","spacing","Autocomplete","ref","data","placeholder","icon","IconSearch","stroke","filter","value","item","toLowerCase","includes","trim","description","onItemSubmit","limit","rightSectionWidth","rightSection","Kbd","Menu","shadow","width","trigger","openDelay","closeDelay","UnstyledButton","Avatar","role","fullname","split","length","toUpperCase","charAt","slice","IconSettings","IconLogout","axios","then","res","undefined","showNotification","title","message","IconCheck","autoClose","catch","err","IconX"],"sourceRoot":""}